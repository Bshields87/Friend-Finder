<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Survey</title>
</head>
<body style="text-align: center; color:rgb(206, 49, 49); font-size: 25px; font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif">
  <h1 >Survey</h1>
  <!-- <form action="/api/friends" method="post"> -->
  <form > 
    <div>
        <input type="text" name="name" id="" placeholder="Name">
        <input type="text" name="photo" id="" placeholder="Photo">
      <p>Your face is perfectly symmetrical??</p>

      <input type="radio" name="scores[0]" value="1"> Strongly Agree
      <input type="radio" name="scores[0]" value="2"> Agree
      <input type="radio" name="scores[0]" value="3"> Neutral
      <input type="radio" name="scores[0]" value="4"> Disagree
      <input type="radio" name="scores[0]" value="5"> Strongly Disagree
    </div>
    <div>
      <p>Your height is way above average?</p>

      <input type="radio" name="scores[1]" value="1"> Strongly Agree
      <input type="radio" name="scores[1]" value="2"> Agree
      <input type="radio" name="scores[1]" value="3"> Neutral
      <input type="radio" name="scores[1]" value="4"> Disagree
      <input type="radio" name="scores[1]" value="5"> Strongly Disagree
    </div>
    <div>
      <p>Your BMI is 18 or less?</p>

      <input type="radio" name="scores[2]" value="1"> Strongly Agree
      <input type="radio" name="scores[2]" value="2"> Agree
      <input type="radio" name="scores[2]" value="3"> Neutral
      <input type="radio" name="scores[2]" value="4"> Disagree
      <input type="radio" name="scores[2]" value="5"> Strongly Disagree
    </div>
    <div>
        <p>You're regularly stopped on the street and told how beautiful you are?</p>
  
        <input type="radio" name="scores[3]" value="1"> Strongly Agree
        <input type="radio" name="scores[3]" value="2"> Agree
        <input type="radio" name="scores[3]" value="3"> Neutral
        <input type="radio" name="scores[3]" value="4"> Disagree
        <input type="radio" name="scores[3]" value="5"> Strongly Disagree
      </div>
      <div>
        <p>Your taste n cloting, music and makeup is impecabble</p>
  
        <input type="radio" name="scores[4]" value="1"> Strongly Agree
        <input type="radio" name="scores[4]" value="2"> Agree
        <input type="radio" name="scores[4]" value="3"> Neutral
        <input type="radio" name="scores[4]" value="4"> Disagree
        <input type="radio" name="scores[4]" value="5"> Strongly Disagree
      </div>
    <input type="submit">
  </form>
  
<div id="friendResult">
    <p id="friendName"></p>
    <img id="friendImage" src="">
</div>
  <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
  <script>
      $("#friendResult").hide();

    $('form').submit( function(event) {
      event.preventDefault();

      $.ajax({
        url: "/api/friends",
        method: "POST",
        data: $(this).serialize()
      }).then(
        function(result){ 
            let friendMatch = JSON.parse(result)
            let friendMatchResult = Object.values(friendMatch)
            console.log(friendMatch)
            console.log("My name is: " + friendMatchResult[0])
            $('form').hide();
            $('h1').hide();
            $("#friendResult").show();
            $("#friendName").html("Hi my name is " + friendMatchResult[0])
            $("#friendImage").attr("src", friendMatchResult[1])
        },     
      
      console.log("submitting form")

      )
    })
  </script>
</body>
</html>